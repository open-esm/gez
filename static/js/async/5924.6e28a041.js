"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["5924"],{42284:function(e,n,r){r.r(n),r.d(n,{default:()=>c});var i=r(31549),s=r(6603);function a(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",h3:"h3",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",h4:"h4",ol:"ol",div:"div"},(0,s.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"gez",children:["Gez",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#gez",children:"#"})]}),"\n",(0,i.jsxs)(n.h2,{id:"wprowadzenie",children:["Wprowadzenie",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#wprowadzenie",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Gez to wysokowydajny framework aplikacji webowych oparty na Rspack, zapewniający kompleksowe zarządzanie cyklem życia aplikacji, obsługę zasob\xf3w statycznych oraz możliwości renderowania po stronie serwera."}),"\n",(0,i.jsxs)(n.h2,{id:"definicje-typ\\xf3w",children:["Definicje typ\xf3w",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#definicje-typ\\xf3w",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"runtimetarget",children:["RuntimeTarget",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#runtimetarget",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Definicja typu"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type RuntimeTarget = 'client' | 'server'\n"})}),"\n",(0,i.jsx)(n.p,{children:"Typ środowiska uruchomieniowego aplikacji:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"client"}),": Działa w środowisku przeglądarki, obsługuje operacje na DOM i API przeglądarki"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"server"}),": Działa w środowisku Node.js, obsługuje system plik\xf3w i funkcje serwerowe"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"importmap",children:["ImportMap",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#importmap",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Definicja typu"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ImportMap = {\n  imports?: SpecifierMap\n  scopes?: ScopesMap\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Typ mapowania import\xf3w moduł\xf3w ES."}),"\n",(0,i.jsxs)(n.h4,{id:"specifiermap",children:["SpecifierMap",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#specifiermap",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Definicja typu"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type SpecifierMap = Record<string, string>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Typ mapowania identyfikator\xf3w moduł\xf3w, używany do definiowania mapowania ścieżek importu moduł\xf3w."}),"\n",(0,i.jsxs)(n.h4,{id:"scopesmap",children:["ScopesMap",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#scopesmap",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Definicja typu"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ScopesMap = Record<string, SpecifierMap>\n"})}),"\n",(0,i.jsx)(n.p,{children:"Typ mapowania zakres\xf3w, używany do definiowania mapowania importu moduł\xf3w w określonych zakresach."}),"\n",(0,i.jsxs)(n.h3,{id:"command",children:["COMMAND",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#command",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Definicja typu"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"enum COMMAND {\n    dev = 'dev',\n    build = 'build',\n    preview = 'preview',\n    start = 'start'\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Typ wyliczeniowy poleceń:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"dev"}),": Polecenie środowiska deweloperskiego, uruchamia serwer deweloperski z obsługą hot-reload"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"build"}),": Polecenie budowania, generuje artefakty produkcyjne"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"preview"}),": Polecenie podglądu, uruchamia lokalny serwer podglądu"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"start"}),": Polecenie uruchomienia, uruchamia serwer produkcyjny"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"opcje-instancji",children:["Opcje instancji",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#opcje-instancji",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Definiuje kluczowe opcje konfiguracyjne frameworka Gez."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"interface GezOptions {\n  root?: string\n  isProd?: boolean\n  basePathPlaceholder?: string | false\n  modules?: ModuleConfig\n  packs?: PackConfig\n  devApp?: (gez: Gez) => Promise<App>\n  server?: (gez: Gez) => Promise<void>\n  postBuild?: (gez: Gez) => Promise<void>\n}\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"root",children:["root",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#root",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Domyślna wartość"}),": ",(0,i.jsx)(n.code,{children:"process.cwd()"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Ścieżka do katalogu gł\xf3wnego projektu. Może być ścieżką bezwzględną lub względną, względna ścieżka jest rozwiązywana względem bieżącego katalogu roboczego."}),"\n",(0,i.jsxs)(n.h4,{id:"isprod",children:["isProd",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isprod",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Domyślna wartość"}),": ",(0,i.jsx)(n.code,{children:"process.env.NODE_ENV === 'production'"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Identyfikator środowiska."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"true"}),": Środowisko produkcyjne"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"false"}),": Środowisko deweloperskie"]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"basepathplaceholder",children:["basePathPlaceholder",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#basepathplaceholder",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"string | false"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Domyślna wartość"}),": ",(0,i.jsx)(n.code,{children:"'[[[___GEZ_DYNAMIC_BASE___]]]'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Konfiguracja symbolu zastępczego ścieżki bazowej. Używany do dynamicznego zastępowania ścieżki bazowej zasob\xf3w w czasie wykonywania. Ustawienie na ",(0,i.jsx)(n.code,{children:"false"})," wyłącza tę funkcję."]}),"\n",(0,i.jsxs)(n.h4,{id:"modules",children:["modules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modules",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"ModuleConfig"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Opcje konfiguracyjne moduł\xf3w. Używane do konfiguracji reguł rozwiązywania moduł\xf3w w projekcie, w tym alias\xf3w moduł\xf3w, zależności zewnętrznych itp."}),"\n",(0,i.jsxs)(n.h4,{id:"packs",children:["packs",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#packs",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"PackConfig"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Opcje konfiguracyjne pakowania. Używane do pakowania artefakt\xf3w budowania w standardowe pakiety npm w formacie .tgz."}),"\n",(0,i.jsxs)(n.h4,{id:"devapp",children:["devApp",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devapp",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"(gez: Gez) => Promise<App>"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Funkcja tworzenia aplikacji dla środowiska deweloperskiego. Używana tylko w środowisku deweloperskim do tworzenia instancji aplikacji serwera deweloperskiego."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"export default {\n  async devApp(gez) {\n    return import('@gez/rspack').then((m) =>\n      m.createRspackHtmlApp(gez, {\n        config(context) {\n          // Niestandardowa konfiguracja Rspack\n        }\n      })\n    )\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"server",children:["server",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#server",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"(gez: Gez) => Promise<void>"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Funkcja konfiguracji i uruchamiania serwera HTTP. Używana do konfiguracji i uruchamiania serwera HTTP, dostępna zar\xf3wno w środowisku deweloperskim, jak i produkcyjnym."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"export default {\n  async server(gez) {\n    const server = http.createServer((req, res) => {\n      gez.middleware(req, res, async () => {\n        const render = await gez.render({\n          params: { url: req.url }\n        });\n        res.end(render.html);\n      });\n    });\n\n    server.listen(3000);\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"postbuild",children:["postBuild",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#postbuild",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"(gez: Gez) => Promise<void>"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Funkcja przetwarzania po budowaniu. Wykonywana po zakończeniu budowania projektu, może być używana do:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Wykonywania dodatkowego przetwarzania zasob\xf3w"}),"\n",(0,i.jsx)(n.li,{children:"Operacji wdrażania"}),"\n",(0,i.jsx)(n.li,{children:"Generowania plik\xf3w statycznych"}),"\n",(0,i.jsx)(n.li,{children:"Wysyłania powiadomień o budowaniu"}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"właściwości-instancji",children:["Właściwości instancji",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#właściwości-instancji",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"name",children:["name",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#name",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tylko do odczytu"}),": ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Nazwa bieżącego modułu, pochodząca z konfiguracji modułu."}),"\n",(0,i.jsxs)(n.h3,{id:"varname",children:["varName",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#varname",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tylko do odczytu"}),": ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Prawidłowa nazwa zmiennej JavaScript wygenerowana na podstawie nazwy modułu."}),"\n",(0,i.jsxs)(n.h3,{id:"root-1",children:["root",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#root-1",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tylko do odczytu"}),": ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Bezwzględna ścieżka do katalogu gł\xf3wnego projektu. Jeśli skonfigurowany ",(0,i.jsx)(n.code,{children:"root"})," jest ścieżką względną, jest rozwiązywany względem bieżącego katalogu roboczego."]}),"\n",(0,i.jsxs)(n.h3,{id:"isprod-1",children:["isProd",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isprod-1",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tylko do odczytu"}),": ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Określa, czy bieżące środowisko jest produkcyjne. Priorytetowo używana jest opcja ",(0,i.jsx)(n.code,{children:"isProd"})," z konfiguracji, jeśli nie jest skonfigurowana, jest określane na podstawie ",(0,i.jsx)(n.code,{children:"process.env.NODE_ENV"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"basepath",children:["basePath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#basepath",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tylko do odczytu"}),": ",(0,i.jsx)(n.code,{children:"true"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Rzuca"}),": ",(0,i.jsx)(n.code,{children:"NotReadyError"})," - gdy framework nie jest zainicjalizowany"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Pobiera ścieżkę bazową modułu rozpoczynającą się i kończącą się ukośnikiem. Zwraca format ",(0,i.jsx)(n.code,{children:"/${name}/"}),", gdzie name pochodzi z konfiguracji modułu."]}),"\n",(0,i.jsxs)(n.h3,{id:"basepathplaceholder-1",children:["basePathPlaceholder",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#basepathplaceholder-1",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tylko do odczytu"}),": ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Pobiera symbol zastępczy ścieżki bazowej używany do dynamicznego zastępowania w czasie wykonywania. Może być wyłączony przez konfigurację."}),"\n",(0,i.jsxs)(n.h3,{id:"middleware",children:["middleware",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#middleware",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"Middleware"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tylko do odczytu"}),": ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Pobiera middleware do obsługi zasob\xf3w statycznych. Dostarcza r\xf3żne implementacje w zależności od środowiska:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Środowisko deweloperskie: Obsługa kompilacji w locie i hot-reload"}),"\n",(0,i.jsx)(n.li,{children:"Środowisko produkcyjne: Obsługa długotrwałego buforowania zasob\xf3w statycznych"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const server = http.createServer((req, res) => {\n  gez.middleware(req, res, async () => {\n    const rc = await gez.render({ url: req.url });\n    res.end(rc.html);\n  });\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"render",children:["render",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#render",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"(options?: RenderContextOptions) => Promise<RenderContext>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tylko do odczytu"}),": ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Pobiera funkcję renderowania po stronie serwera. Dostarcza r\xf3żne implementacje w zależności od środowiska:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Środowisko deweloperskie: Obsługa hot-reload i podglądu w locie"}),"\n",(0,i.jsx)(n.li,{children:"Środowisko produkcyjne: Zapewnia zoptymalizowaną wydajność renderowania"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Podstawowe użycie\nconst rc = await gez.render({\n  params: { url: req.url }\n});\n\n// Zaawansowana konfiguracja\nconst rc = await gez.render({\n  base: '',                    // Ścieżka bazowa\n  importmapMode: 'inline',     // Tryb mapowania import\xf3w\n  entryName: 'default',        // Punkt wejścia renderowania\n  params: {\n    url: req.url,\n    state: { user: 'admin' }   // Dane stanu\n  }\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"command-1",children:["COMMAND",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#command-1",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"typeof COMMAND"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tylko do odczytu"}),": ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Pobiera definicję typu wyliczeniowego poleceń."}),"\n",(0,i.jsxs)(n.h3,{id:"moduleconfig",children:["moduleConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#moduleconfig",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"ParsedModuleConfig"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tylko do odczytu"}),": ",(0,i.jsx)(n.code,{children:"true"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Rzuca"}),": ",(0,i.jsx)(n.code,{children:"NotReadyError"})," - gdy framework nie jest zainicjalizowany"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Pobiera pełną konfigurację bieżącego modułu, w tym reguły rozwiązywania moduł\xf3w, konfigurację alias\xf3w itp."}),"\n",(0,i.jsxs)(n.h3,{id:"packconfig",children:["packConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#packconfig",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Typ"}),": ",(0,i.jsx)(n.code,{children:"ParsedPackConfig"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Tylko do odczytu"}),": ",(0,i.jsx)(n.code,{children:"true"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Rzuca"}),": ",(0,i.jsx)(n.code,{children:"NotReadyError"})," - gdy framework nie jest zainicjalizowany"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Pobiera konfigurację związaną z pakowaniem bieżącego modułu, w tym ścieżkę wyjściową, przetwarzanie package.json itp."}),"\n",(0,i.jsxs)(n.h2,{id:"metody-instancji",children:["Metody instancji",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#metody-instancji",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"constructor",children:["constructor()",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#constructor",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Parametry"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"options?: GezOptions"})," - Opcje konfiguracyjne frameworka"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Zwraca"}),": ",(0,i.jsx)(n.code,{children:"Gez"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Tworzy instancję frameworka Gez."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const gez = new Gez({\n  root: './src',\n  isProd: process.env.NODE_ENV === 'production'\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"init",children:["init()",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#init",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Parametry"}),": ",(0,i.jsx)(n.code,{children:"command: COMMAND"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Zwraca"}),": ",(0,i.jsx)(n.code,{children:"Promise<boolean>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Rzuca"}),":","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Error"}),": Przy ponownej inicjalizacji"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"NotReadyError"}),": Przy dostępie do nieinicjalizowanej instancji"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Inicjalizuje instancję frameworka Gez. Wykonuje następujące kluczowe kroki inicjalizacji:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Parsuje konfigurację projektu (package.json, konfiguracja moduł\xf3w, konfiguracja pakowania itp.)"}),"\n",(0,i.jsx)(n.li,{children:"Tworzy instancję aplikacji (środowisko deweloperskie lub produkcyjne)"}),"\n",(0,i.jsx)(n.li,{children:"Wykonuje odpowiednie metody cyklu życia w zależności od polecenia"}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,i.jsx)(n.div,{className:"rspress-directive-title",children:"Uwaga"}),(0,i.jsxs)(n.div,{className:"rspress-directive-content",children:["\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ponowna inicjalizacja rzuca błąd"}),"\n",(0,i.jsxs)(n.li,{children:["Dostęp do nieinicjalizowanej instancji rzuca ",(0,i.jsx)(n.code,{children:"NotReadyError"})]}),"\n"]}),"\n"]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const gez = new Gez({\n  root: './src',\n  isProd: process.env.NODE_ENV === 'production'\n});\n\nawait gez.init(COMMAND.dev);\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"destroy",children:["destroy()",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#destroy",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Zwraca"}),": ",(0,i.jsx)(n.code,{children:"Promise<boolean>"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Niszczy instancję frameworka Gez, wykonując czyszczenie zasob\xf3w i zamykanie połączeń. Gł\xf3wnie używane do:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Zamykania serwera deweloperskiego"}),"\n",(0,i.jsx)(n.li,{children:"Czyszczenia plik\xf3w tymczasowych i pamięci podręcznej"}),"\n",(0,i.jsx)(n.li,{children:"Zwolnienia zasob\xf3w systemowych"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"process.once('SIGTERM', async () => {\n  await gez.destroy();\n  process.exit(0);\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"build",children:["build()",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#build",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Zwraca"}),": ",(0,i.jsx)(n.code,{children:"Promise<boolean>"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Wykonuje proces budowania aplikacji, w tym:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Kompilację kodu źr\xf3dłowego"}),"\n",(0,i.jsx)(n.li,{children:"Generowanie artefakt\xf3w produkcyjnych"}),"\n",(0,i.jsx)(n.li,{children:"Optymalizację i kompresję kodu"}),"\n",(0,i.jsx)(n.li,{children:"Generowanie manifestu zasob\xf3w"}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"rspress-directive warning",children:[(0,i.jsx)(n.div,{className:"rspress-directive-title",children:"Uwaga"}),(0,i.jsx)(n.div,{className:"rspress-directive-content",children:(0,i.jsxs)(n.p,{children:["Wywołanie przed inicjalizacją instancji frameworka rzuca ",(0,i.jsx)(n.code,{children:"NotReadyError"}),"\n"]})})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"export default {\n  async postBuild(gez) {\n    await gez.build();\n    // Generowanie statycznego HTML po zakończeniu budowania\n    const render = await gez.render({\n      params: { url: '/' }\n    });\n    gez.writeSync(\n      gez.resolvePath('dist/client', 'index.html'),\n      render.html\n    );\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"server-1",children:["server()",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#server-1",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Zwraca"}),": ",(0,i.jsx)(n.code,{children:"Promise<void>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Rzuca"}),": ",(0,i.jsx)(n.code,{children:"NotReadyError"})," - gdy framework nie jest zainicjalizowany"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Uruchamia serwer HTTP i konfiguruje instancję serwera. Wywoływane w następujących cyklach życia:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Środowisko deweloperskie (dev): Uruchamia serwer deweloperski z obsługą hot-reload"}),"\n",(0,i.jsx)(n.li,{children:"Środowisko produkcyjne (start): Uruchamia serwer produkcyjny z wydajnością produkcyjną"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"export default {\n  async server(gez) {\n    const server = http.createServer((req, res) => {\n      // Obsługa zasob\xf3w statycznych\n      gez.middleware(req, res, async () => {\n        // Renderowanie po stronie serwera\n        const render = await gez.render({\n          params: { url: req.url }\n        });\n        res.end(render.html);\n      });\n    });\n\n    server.listen(3000, () => {\n      console.log('Serwer działa na http://localhost:3000');\n    });\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"postbuild-1",children:["postBuild()",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#postbuild-1",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Zwraca"}),": ",(0,i.jsx)(n.code,{children:"Promise<boolean>"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Wykonuje logikę przetwarzania po budowaniu, używana do:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Generowania statycznych plik\xf3w HTML"}),"\n",(0,i.jsx)(n.li,{children:"Przetwarzania artefakt\xf3w budowania"}),"\n",(0,i.jsx)(n.li,{children:"Wykonywania zadań wdrażania"}),"\n",(0,i.jsx)(n.li,{children:"Wysyłania powiadomień o budowaniu"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"export default {\n  async postBuild(gez) {\n    // Generowanie statycznego HTML dla wielu stron\n    const pages = ['/', '/about', '/404'];\n\n    for (const url of pages) {\n      const render = await gez.render({\n        params: { url }\n      });\n\n      await gez.write(\n        gez.resolvePath('dist/client', url.substring(1), 'index.html'),\n        render.html\n      );\n    }\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"resolvepath",children:["resolvePath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#resolvepath",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Rozwiązuje ścieżkę projektu, konwertując ścieżkę względną na bezwzględną."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parametry"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"projectPath: ProjectPath"})," - Typ ścieżki projektu"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"...args: string[]"})," - Fragmenty ścieżki"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Zwraca"}),": ",(0,i.jsx)(n.code,{children:"string"})," - Rozwiązana ścieżka bezwzględna"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Przykład"}),":"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Rozwiązanie ścieżki do zasob\xf3w statycznych\nconst htmlPath = gez.resolvePath('dist/client', 'index.html');\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"writesync",children:["writeSync()",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#writesync",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Synchroniczne zapisywanie zawartości do pliku."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parametry"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"filepath"}),": ",(0,i.jsx)(n.code,{children:"string"})," - Bezwzględna ścieżka do pliku"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"data"}),": ",(0,i.jsx)(n.code,{children:"any"})," - Dane do zapisania, mogą być ciągiem znak\xf3w, Bufferem lub obiektem"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Zwraca"}),": ",(0,i.jsx)(n.code,{children:"boolean"})," - Czy zapis się powi\xf3dł"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Przykład"}),":"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"\nasync postBuild(gez) {\n  const htmlPath = gez.resolvePath('dist/client', 'index.html');\n  const success = await gez.write(htmlPath, '<html>...</html>');\n}\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"readjsonsync",children:["readJsonSync()",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#readjsonsync",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Synchroniczne odczytywanie i parsowanie pliku JSON."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Parametry"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"filename"}),": ",(0,i.jsx)(n.code,{children:"string"})," - Bezwzględna ścieżka do pliku JSON"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Zwraca"}),": ",(0,i.jsx)(n.code,{children:"any"})," - Sparsowany obiekt JSON"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Wyjątki"}),": Rzuca wyjątek, gdy plik nie istnieje lub format JSON jest nieprawidłowy"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Przykład"}),":"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"async server(gez) {\n  const manifest = gez.readJsonSync(gez.resolvePath('dist/client', 'manifest.json'));\n  // Użycie obiektu manifest\n}\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"readjson",children:["readJson()",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#readjson",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Asynchroniczne odczytywanie i parsowanie pliku JSON."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"**Param"}),"\n"]})]})}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,s.ah)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}let c=d;d.__RSPRESS_PAGE_META={},d.__RSPRESS_PAGE_META["pl%2Fapi%2Fcore%2Fgez.md"]={toc:[{text:"Wprowadzenie",id:"wprowadzenie",depth:2},{text:"Definicje typ\xf3w",id:"definicje-typ\xf3w",depth:2},{text:"RuntimeTarget",id:"runtimetarget",depth:3},{text:"ImportMap",id:"importmap",depth:3},{text:"SpecifierMap",id:"specifiermap",depth:4},{text:"ScopesMap",id:"scopesmap",depth:4},{text:"COMMAND",id:"command",depth:3},{text:"Opcje instancji",id:"opcje-instancji",depth:2},{text:"root",id:"root",depth:4},{text:"isProd",id:"isprod",depth:4},{text:"basePathPlaceholder",id:"basepathplaceholder",depth:4},{text:"modules",id:"modules",depth:4},{text:"packs",id:"packs",depth:4},{text:"devApp",id:"devapp",depth:4},{text:"server",id:"server",depth:4},{text:"postBuild",id:"postbuild",depth:4},{text:"Właściwości instancji",id:"właściwości-instancji",depth:2},{text:"name",id:"name",depth:3},{text:"varName",id:"varname",depth:3},{text:"root",id:"root-1",depth:3},{text:"isProd",id:"isprod-1",depth:3},{text:"basePath",id:"basepath",depth:3},{text:"basePathPlaceholder",id:"basepathplaceholder-1",depth:3},{text:"middleware",id:"middleware",depth:3},{text:"render",id:"render",depth:3},{text:"COMMAND",id:"command-1",depth:3},{text:"moduleConfig",id:"moduleconfig",depth:3},{text:"packConfig",id:"packconfig",depth:3},{text:"Metody instancji",id:"metody-instancji",depth:2},{text:"constructor()",id:"constructor",depth:3},{text:"init()",id:"init",depth:3},{text:"destroy()",id:"destroy",depth:3},{text:"build()",id:"build",depth:3},{text:"server()",id:"server-1",depth:3},{text:"postBuild()",id:"postbuild-1",depth:3},{text:"resolvePath",id:"resolvepath",depth:3},{text:"writeSync()",id:"writesync",depth:3},{text:"readJsonSync()",id:"readjsonsync",depth:3},{text:"readJson()",id:"readjson",depth:3}],title:"Gez",headingTitle:"Gez",frontmatter:{titleSuffix:"Dokumentacja API klas rdzeniowych frameworka",description:"Szczeg\xf3łowy opis API klas rdzeniowych frameworka Gez, obejmujący zarządzanie cyklem życia aplikacji, obsługę zasob\xf3w statycznych oraz możliwości renderowania po stronie serwera, pomagający programistom dogłębnie zrozumieć kluczowe funkcje frameworka.",head:[["meta",{property:"keywords",content:"Gez, API, zarządzanie cyklem życia, zasoby statyczne, renderowanie po stronie serwera, Rspack, framework aplikacji webowych"}]]}}}}]);