"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["7567"],{73816:function(n,e,a){a.r(e),a.d(e,{default:()=>c});var i=a(31549),r=a(6603);function s(n){let e=Object.assign({h1:"h1",a:"a",p:"p",code:"code",ul:"ul",li:"li",strong:"strong",h2:"h2",pre:"pre",h3:"h3",h4:"h4"},(0,r.ah)(),n.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.h1,{id:"packconfig",children:["PackConfig",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#packconfig",children:"#"})]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.code,{children:"PackConfig"})," to interfejs konfiguracji pakowania pakiet\xf3w, służący do pakowania wynik\xf3w budowania usługi w standardowy format pakietu npm .tgz."]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Standaryzacja"}),": Używa standardowego formatu pakowania npm .tgz"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Kompletność"}),": Zawiera wszystkie niezbędne pliki, takie jak kod źr\xf3dłowy modułu, deklaracje typ\xf3w i pliki konfiguracyjne"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Kompatybilność"}),": W pełni kompatybilny z ekosystemem npm, wspiera standardowe przepływy pracy zarządzania pakietami"]}),"\n"]}),"\n",(0,i.jsxs)(e.h2,{id:"definicja-typ\\xf3w",children:["Definicja typ\xf3w",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#definicja-typ\\xf3w",children:"#"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",children:"interface PackConfig {\n    enable?: boolean;\n    outputs?: string | string[] | boolean;\n    packageJson?: (gez: Gez, pkg: Record<string, any>) => Promise<Record<string, any>>;\n    onBefore?: (gez: Gez, pkg: Record<string, any>) => Promise<void>;\n    onAfter?: (gez: Gez, pkg: Record<string, any>, file: Buffer) => Promise<void>;\n}\n"})}),"\n",(0,i.jsxs)(e.h3,{id:"packconfig-1",children:["PackConfig",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#packconfig-1",children:"#"})]}),"\n",(0,i.jsxs)(e.h4,{id:"enable",children:["enable",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#enable",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"Określa, czy funkcja pakowania jest włączona. Po włączeniu wyniki budowania zostaną spakowane w standardowy format pakietu npm .tgz."}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Typ: ",(0,i.jsx)(e.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(e.li,{children:["Wartość domyślna: ",(0,i.jsx)(e.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(e.h4,{id:"outputs",children:["outputs",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#outputs",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"Określa ścieżkę wyjściową pliku pakietu. Obsługiwane są następujące sposoby konfiguracji:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"string"}),": Pojedyncza ścieżka wyjściowa, np. 'dist/versions/my-app.tgz'"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"string[]"}),": Wiele ścieżek wyjściowych, służących do jednoczesnego generowania wielu wersji"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"boolean"}),": true - używa domyślnej ścieżki 'dist/client/versions/latest.tgz'"]}),"\n"]}),"\n",(0,i.jsxs)(e.h4,{id:"packagejson",children:["packageJson",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#packagejson",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"Funkcja zwrotna do dostosowywania zawartości pliku package.json. Wywoływana przed pakowaniem, służy do dostosowywania zawartości pliku package.json."}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Parametry:","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"gez: Gez"})," - Instancja Gez"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"pkg: any"})," - Oryginalna zawartość pliku package.json"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["Wartość zwracana: ",(0,i.jsx)(e.code,{children:"Promise<any>"})," - Zmodyfikowana zawartość pliku package.json"]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Typowe zastosowania:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Modyfikacja nazwy pakietu i numeru wersji"}),"\n",(0,i.jsx)(e.li,{children:"Dodawanie lub aktualizacja zależności"}),"\n",(0,i.jsx)(e.li,{children:"Dodawanie niestandardowych p\xf3l"}),"\n",(0,i.jsx)(e.li,{children:"Konfiguracja informacji związanych z publikacją"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Przykład:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",children:"packageJson: async (gez, pkg) => {\n  // Ustawienie informacji o pakiecie\n  pkg.name = 'my-app';\n  pkg.version = '1.0.0';\n  pkg.description = 'Moja aplikacja';\n\n  // Dodanie zależności\n  pkg.dependencies = {\n    'vue': '^3.0.0',\n    'express': '^4.17.1'\n  };\n\n  // Dodanie konfiguracji publikacji\n  pkg.publishConfig = {\n    registry: 'https://registry.example.com'\n  };\n\n  return pkg;\n}\n"})}),"\n",(0,i.jsxs)(e.h4,{id:"onbefore",children:["onBefore",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#onbefore",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"Funkcja zwrotna do przygotowań przed pakowaniem."}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Parametry:","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"gez: Gez"})," - Instancja Gez"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"pkg: Record<string, any>"})," - Zawartość pliku package.json"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["Wartość zwracana: ",(0,i.jsx)(e.code,{children:"Promise<void>"})]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Typowe zastosowania:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Dodawanie dodatkowych plik\xf3w (README, LICENSE itp.)"}),"\n",(0,i.jsx)(e.li,{children:"Wykonywanie test\xf3w lub weryfikacji budowania"}),"\n",(0,i.jsx)(e.li,{children:"Generowanie dokumentacji lub metadanych"}),"\n",(0,i.jsx)(e.li,{children:"Czyszczenie plik\xf3w tymczasowych"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Przykład:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",children:"onBefore: async (gez, pkg) => {\n  // Dodanie dokumentacji\n  await fs.writeFile('dist/README.md', '# My App');\n  await fs.writeFile('dist/LICENSE', 'MIT License');\n\n  // Wykonanie test\xf3w\n  await runTests();\n\n  // Generowanie dokumentacji\n  await generateDocs();\n\n  // Czyszczenie plik\xf3w tymczasowych\n  await cleanupTempFiles();\n}\n"})}),"\n",(0,i.jsxs)(e.h4,{id:"onafter",children:["onAfter",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#onafter",children:"#"})]}),"\n",(0,i.jsx)(e.p,{children:"Funkcja zwrotna do przetwarzania po zakończeniu pakowania. Wywoływana po wygenerowaniu pliku .tgz, służy do przetwarzania wynik\xf3w pakowania."}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:["Parametry:","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"gez: Gez"})," - Instancja Gez"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"pkg: Record<string, any>"})," - Zawartość pliku package.json"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"file: Buffer"})," - Zawartość spakowanego pliku"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:["Wartość zwracana: ",(0,i.jsx)(e.code,{children:"Promise<void>"})]}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Typowe zastosowania:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Publikacja do repozytorium npm (publicznego lub prywatnego)"}),"\n",(0,i.jsx)(e.li,{children:"Przesyłanie do serwera zasob\xf3w statycznych"}),"\n",(0,i.jsx)(e.li,{children:"Zarządzanie wersjami"}),"\n",(0,i.jsx)(e.li,{children:"Wyzwalanie proces\xf3w CI/CD"}),"\n"]}),"\n",(0,i.jsx)(e.p,{children:"Przykład:"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",children:"onAfter: async (gez, pkg, file) => {\n  // Publikacja do prywatnego repozytorium npm\n  await publishToRegistry(file, {\n    registry: 'https://registry.example.com'\n  });\n\n  // Przesyłanie do serwera zasob\xf3w statycznych\n  await uploadToServer(file, 'https://assets.example.com/packages');\n\n  // Tworzenie etykiety wersji\n  await createGitTag(pkg.version);\n\n  // Wyzwalanie procesu wdrażania\n  await triggerDeploy(pkg.version);\n}\n"})}),"\n",(0,i.jsxs)(e.h2,{id:"przykład-użycia",children:["Przykład użycia",(0,i.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#przykład-użycia",children:"#"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-ts",meta:'title="entry.node.ts"',children:"import type { GezOptions } from '@gez/core';\n\nexport default {\n  modules: {\n    // Konfiguracja moduł\xf3w do eksportu\n    exports: [\n      'root:src/components/button.vue',\n      'root:src/utils/format.ts',\n      'npm:vue',\n      'npm:vue-router'\n    ]\n  },\n  // Konfiguracja pakowania\n  pack: {\n    // Włączenie funkcji pakowania\n    enable: true,\n\n    // Jednoczesne wygenerowanie wielu wersji\n    outputs: [\n      'dist/versions/latest.tgz',\n      'dist/versions/1.0.0.tgz'\n    ],\n\n    // Dostosowanie pliku package.json\n    packageJson: async (gez, pkg) => {\n      pkg.version = '1.0.0';\n      return pkg;\n    },\n\n    // Przygotowanie przed pakowaniem\n    onBefore: async (gez, pkg) => {\n      // Dodanie niezbędnych plik\xf3w\n      await fs.writeFile('dist/README.md', '# Your App\\n\\nOpis eksportu moduł\xf3w...');\n      // Wykonanie sprawdzania typ\xf3w\n      await runTypeCheck();\n    },\n\n    // Przetwarzanie po pakowaniu\n    onAfter: async (gez, pkg, file) => {\n      // Publikacja do prywatnego repozytorium npm\n      await publishToRegistry(file, {\n        registry: 'https://npm.your-registry.com/'\n      });\n      // Lub wdrożenie na serwer statyczny\n      await uploadToServer(file, 'https://static.example.com/packages');\n    }\n  }\n} satisfies GezOptions;\n"})})]})}function o(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,r.ah)(),n.components);return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(s,{...n})}):s(n)}let c=o;o.__RSPRESS_PAGE_META={},o.__RSPRESS_PAGE_META["pl%2Fapi%2Fcore%2Fpack-config.md"]={toc:[{text:"Definicja typ\xf3w",id:"definicja-typ\xf3w",depth:2},{text:"PackConfig",id:"packconfig-1",depth:3},{text:"enable",id:"enable",depth:4},{text:"outputs",id:"outputs",depth:4},{text:"packageJson",id:"packagejson",depth:4},{text:"onBefore",id:"onbefore",depth:4},{text:"onAfter",id:"onafter",depth:4},{text:"Przykład użycia",id:"przykład-użycia",depth:2}],title:"PackConfig",headingTitle:"PackConfig",frontmatter:{titleSuffix:"Dokumentacja API konfiguracji pakowania frameworku Gez",description:"Szczeg\xf3łowy opis interfejsu konfiguracyjnego PackConfig frameworku Gez, obejmujący reguły pakowania pakiet\xf3w, konfigurację wyjściową i hooki cyklu życia, pomagający programistom w implementacji standardowych proces\xf3w budowania.",head:[["meta",{property:"keywords",content:"Gez, PackConfig, pakowanie pakiet\xf3w, konfiguracja budowania, hooki cyklu życia, konfiguracja pakowania, framework aplikacji webowych"}]]}}}}]);