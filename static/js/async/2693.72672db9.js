"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([["2693"],{58182:function(n,e,r){r.r(e),r.d(e,{default:()=>c});var s=r(31549),i=r(6603);function d(n){let e=Object.assign({h1:"h1",a:"a",p:"p",ol:"ol",li:"li",strong:"strong",ul:"ul",h2:"h2",code:"code",pre:"pre",h3:"h3",h4:"h4"},(0,i.ah)(),n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.h1,{id:"rendercontext",children:["RenderContext",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#rendercontext",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"RenderContext เป็นคลาสหลักใน Gez เฟรมเวิร์ก ที่รับผิดชอบหลักในการจัดการทรัพยากรและการสร้าง HTML ในกระบวนการเรนเดอร์ฝั่งเซิร์ฟเวอร์ (SSR) โดยมีคุณสมบัติหลักดังนี้:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"ระบบโมดูลที่ใช้ ESM"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"ใช้มาตรฐาน ECMAScript Modules ที่ทันสมัย"}),"\n",(0,s.jsx)(e.li,{children:"รองรับการนำเข้าและส่งออกโมดูลแบบเนทีฟ"}),"\n",(0,s.jsx)(e.li,{children:"มีการแบ่งโค้ดและการโหลดตามต้องการที่ดีขึ้น"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"การรวบรวมการอ้างอิงอย่างชาญฉลาด"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"รวบรวมการอ้างอิงตามเส้นทางการเรนเดอร์จริง"}),"\n",(0,s.jsx)(e.li,{children:"หลีกเลี่ยงการโหลดทรัพยากรที่ไม่จำเป็น"}),"\n",(0,s.jsx)(e.li,{children:"รองรับคอมโพเนนต์แบบอะซิงโครนัสและการนำเข้าแบบไดนามิก"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"การฉีดทรัพยากรอย่างแม่นยำ"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"ควบคุมลำดับการโหลดทรัพยากรอย่างเคร่งครัด"}),"\n",(0,s.jsx)(e.li,{children:"เพิ่มประสิทธิภาพการโหลดหน้าจอแรก"}),"\n",(0,s.jsx)(e.li,{children:"รับประกันความน่าเชื่อถือของการเปิดใช้งานฝั่งไคลเอ็นต์ (Hydration)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"กลไกการกำหนดค่าที่ยืดหยุ่น"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"รองรับการกำหนดค่าเส้นทางพื้นฐานแบบไดนามิก"}),"\n",(0,s.jsx)(e.li,{children:"มีโหมดการแมปการนำเข้าหลายรูปแบบ"}),"\n",(0,s.jsx)(e.li,{children:"ปรับให้เข้ากับสถานการณ์การใช้งานที่แตกต่างกัน"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"วิธีการใช้งาน",children:["วิธีการใช้งาน",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#วิธีการใช้งาน",children:"#"})]}),"\n",(0,s.jsxs)(e.p,{children:["ใน Gez เฟรมเวิร์ก นักพัฒนาไม่จำเป็นต้องสร้างอินสแตนซ์ของ RenderContext โดยตรง แต่จะได้รับอินสแตนซ์ผ่านเมธอด ",(0,s.jsx)(e.code,{children:"gez.render()"})," แทน:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"async server(gez) {\n    const server = http.createServer((req, res) => {\n        // การจัดการไฟล์สแตติก\n        gez.middleware(req, res, async () => {\n            // รับอินสแตนซ์ RenderContext ผ่าน gez.render()\n            const rc = await gez.render({\n                params: {\n                    url: req.url\n                }\n            });\n            // ส่งคืนเนื้อหา HTML\n            res.end(rc.html);\n        });\n    });\n}\n"})}),"\n",(0,s.jsxs)(e.h2,{id:"ฟังก์ชันหลัก",children:["ฟังก์ชันหลัก",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#ฟังก์ชันหลัก",children:"#"})]}),"\n",(0,s.jsxs)(e.h3,{id:"การรวบรวมการอ้างอิง",children:["การรวบรวมการอ้างอิง",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#การรวบรวมการอ้างอิง",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"RenderContext มีกลไกการรวบรวมการอ้างอิงที่ชาญฉลาด โดยจะรวบรวมการอ้างอิงตามคอมโพเนนต์ที่เรนเดอร์จริง แทนที่จะโหลดทรัพยากรทั้งหมดล่วงหน้า:"}),"\n",(0,s.jsxs)(e.h4,{id:"การรวบรวมตามต้องการ",children:["การรวบรวมตามต้องการ",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#การรวบรวมตามต้องการ",children:"#"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"ติดตามและบันทึกการอ้างอิงโมดูลอัตโนมัติในระหว่างการเรนเดอร์คอมโพเนนต์"}),"\n",(0,s.jsx)(e.li,{children:"รวบรวมเฉพาะทรัพยากร CSS, JavaScript ที่ใช้จริงในการเรนเดอร์หน้า"}),"\n",(0,s.jsxs)(e.li,{children:["บันทึกความสัมพันธ์การอ้างอิงโมดูลของแต่ละคอมโพเนนต์ผ่าน ",(0,s.jsx)(e.code,{children:"importMetaSet"})]}),"\n",(0,s.jsx)(e.li,{children:"รองรับการรวบรวมการอ้างอิงของคอมโพเนนต์แบบอะซิงโครนัสและการนำเข้าแบบไดนามิก"}),"\n"]}),"\n",(0,s.jsxs)(e.h4,{id:"การจัดการอัตโนมัติ",children:["การจัดการอัตโนมัติ",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#การจัดการอัตโนมัติ",children:"#"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"นักพัฒนาไม่ต้องจัดการกระบวนการรวบรวมการอ้างอิงด้วยตนเอง"}),"\n",(0,s.jsx)(e.li,{children:"เฟรมเวิร์กรวบรวมข้อมูลการอ้างอิงอัตโนมัติในระหว่างการเรนเดอร์คอมโพเนนต์"}),"\n",(0,s.jsxs)(e.li,{children:["ประมวลผลทรัพยากรที่รวบรวมได้ทั้งหมดผ่านเมธอด ",(0,s.jsx)(e.code,{children:"commit()"})]}),"\n",(0,s.jsx)(e.li,{children:"จัดการปัญหาการอ้างอิงแบบวงกลมและการอ้างอิงซ้ำอัตโนมัติ"}),"\n"]}),"\n",(0,s.jsxs)(e.h4,{id:"การเพิ่มประสิทธิภาพ",children:["การเพิ่มประสิทธิภาพ",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#การเพิ่มประสิทธิภาพ",children:"#"})]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"หลีกเลี่ยงการโหลดโมดูลที่ไม่ได้ใช้ ลดเวลาโหลดหน้าจอแรก"}),"\n",(0,s.jsx)(e.li,{children:"ควบคุมลำดับการโหลดทรัพยากรอย่างแม่นยำ เพิ่มประสิทธิภาพการเรนเดอร์หน้า"}),"\n",(0,s.jsx)(e.li,{children:"สร้าง Import Map ที่เหมาะสมที่สุดอัตโนมัติ"}),"\n",(0,s.jsx)(e.li,{children:"รองรับกลยุทธ์การโหลดล่วงหน้าและการโหลดตามต้องการ"}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"การฉีดทรัพยากร",children:["การฉีดทรัพยากร",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#การฉีดทรัพยากร",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"RenderContext มีหลายเมธอดสำหรับการฉีดทรัพยากรประเภทต่างๆ โดยแต่ละเมธอดได้รับการออกแบบมาเพื่อเพิ่มประสิทธิภาพการโหลดทรัพยากร:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"preload()"}),": โหลดล่วงหน้า CSS และ JS รองรับการกำหนดลำดับความสำคัญ"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"css()"}),": ฉีดสไตล์ชีตสำหรับหน้าจอแรก รองรับการดึง CSS ที่สำคัญ"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"importmap()"}),": ฉีด Import Map รองรับการแก้ไขเส้นทางแบบไดนามิก"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"moduleEntry()"}),": ฉีดโมดูลเข้าสู่ระบบฝั่งไคลเอ็นต์ รองรับการกำหนดค่าหลายทางเข้า"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"modulePreload()"}),": โหลดล่วงหน้าโมดูลที่อ้างอิง รองรับกลยุทธ์การโหลดตามต้องการ"]}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"ลำดับการฉีดทรัพยากร",children:["ลำดับการฉีดทรัพยากร",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#ลำดับการฉีดทรัพยากร",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"RenderContext ควบคุมลำดับการฉีดทรัพยากรอย่างเคร่งครัด โดยลำดับนี้ได้รับการออกแบบตามหลักการทำงานของเบราว์เซอร์และการเพิ่มประสิทธิภาพ:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"ส่วน head:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"preload()"}),": โหลดล่วงหน้า CSS และ JS เพื่อให้เบราว์เซอร์เริ่มโหลดทรัพยากรเหล่านี้เร็วที่สุด"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"css()"}),": ฉีดสไตล์ชีตสำหรับหน้าจอแรก เพื่อให้สไตล์พร้อมใช้งานเมื่อเนื้อหาเรนเดอร์"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"ส่วน body:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"importmap()"}),": ฉีด Import Map เพื่อกำหนดกฎการแก้ไขเส้นทางของโมดูล ESM"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"moduleEntry()"}),": ฉีดโมดูลเข้าสู่ระบบฝั่งไคลเอ็นต์ ต้องดำเนินการหลัง importmap"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"modulePreload()"}),": โหลดล่วงหน้าโมดูลที่อ้างอิง ต้องดำเนินการหลัง importmap"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"กระบวนการเรนเดอร์ทั้งหมด",children:["กระบวนการเรนเดอร์ทั้งหมด",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#กระบวนการเรนเดอร์ทั้งหมด",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"กระบวนการใช้งาน RenderContext แบบทั่วไปมีดังนี้:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",meta:'title="src/entry.server.ts"',children:"export default async (rc: RenderContext) => {\n    // 1. เรนเดอร์เนื้อหาหน้าและรวบรวมการอ้างอิง\n    const app = createApp();\n    const html = await renderToString(app, {\n       importMetaSet: rc.importMetaSet\n    });\n\n    // 2. ยืนยันการรวบรวมการอ้างอิง\n    await rc.commit();\n    \n    // 3. สร้าง HTML ที่สมบูรณ์\n    rc.html = `\n        <!DOCTYPE html>\n        <html>\n        <head>\n            ${rc.preload()}\n            ${rc.css()}\n        </head>\n        <body>\n            ${html}\n            ${rc.importmap()}\n            ${rc.moduleEntry()}\n            ${rc.modulePreload()}\n        </body>\n        </html>\n    `;\n};\n"})}),"\n",(0,s.jsxs)(e.h2,{id:"คุณสมบัติขั้นสูง",children:["คุณสมบัติขั้นสูง",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#คุณสมบัติขั้นสูง",children:"#"})]}),"\n",(0,s.jsxs)(e.h3,{id:"การกำหนดค่าเส้นทางพื้นฐาน",children:["การกำหนดค่าเส้นทางพื้นฐาน",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#การกำหนดค่าเส้นทางพื้นฐาน",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"RenderContext มีกลไกการกำหนดค่าเส้นทางพื้นฐานแบบไดนามิกที่ยืดหยุ่น รองรับการตั้งค่าเส้นทางพื้นฐานของทรัพยากรสแตติกในขณะรันไทม์:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"const rc = await gez.render({\n    base: '/gez',  // กำหนดเส้นทางพื้นฐาน\n    params: {\n        url: req.url\n    }\n});\n"})}),"\n",(0,s.jsx)(e.p,{children:"กลไกนี้เหมาะสำหรับสถานการณ์ต่อไปนี้:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"การใช้งานหลายภาษา"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"โดเมนหลัก.com      → ภาษาเริ่มต้น\nโดเมนหลัก.com/cn/  → เว็บไซต์ภาษาจีน\nโดเมนหลัก.com/en/  → เว็บไซต์ภาษาอังกฤษ\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"แอปพลิเคชันไมโครฟรอนต์เอนด์"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"รองรับการใช้งานย่อยในเส้นทางที่แตกต่างกัน"}),"\n",(0,s.jsx)(e.li,{children:"ทำให้ง่ายต่อการรวมเข้ากับแอปพลิเคชันหลัก"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h3,{id:"โหมด-import-map",children:["โหมด Import Map",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#โหมด-import-map",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"RenderContext มีสองโหมด Import Map:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Inline โหมด"})," (ค่าเริ่มต้น)"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"แทรก Import Map ลงใน HTML โดยตรง"}),"\n",(0,s.jsx)(e.li,{children:"เหมาะสำหรับแอปพลิเคชันขนาดเล็ก ลดการร้องขอเครือข่ายเพิ่มเติม"}),"\n",(0,s.jsx)(e.li,{children:"พร้อมใช้งานทันทีเมื่อโหลดหน้า"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"JS โหมด"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"โหลด Import Map ผ่านไฟล์ JavaScript ภายนอก"}),"\n",(0,s.jsx)(e.li,{children:"เหมาะสำหรับแอปพลิเคชันขนาดใหญ่ ใช้ประโยชน์จากกลไกแคชของเบราว์เซอร์"}),"\n",(0,s.jsx)(e.li,{children:"รองรับการอัปเดตเนื้อหา Import Map แบบไดนามิก"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"สามารถเลือกโหมดที่เหมาะสมผ่านการกำหนดค่า:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"const rc = await gez.render({\n    importmapMode: 'js',  // 'inline' | 'js'\n    params: {\n        url: req.url\n    }\n});\n"})}),"\n",(0,s.jsxs)(e.h3,{id:"การกำหนดค่าฟังก์ชันเข้าสู่ระบบ",children:["การกำหนดค่าฟังก์ชันเข้าสู่ระบบ",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#การกำหนดค่าฟังก์ชันเข้าสู่ระบบ",children:"#"})]}),"\n",(0,s.jsxs)(e.p,{children:["RenderContext รองรับการกำหนดค่า ",(0,s.jsx)(e.code,{children:"entryName"})," เพื่อระบุฟังก์ชันเข้าสู่ระบบสำหรับการเรนเดอร์ฝั่งเซิร์ฟเวอร์:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",meta:'title="src/entry.node.ts"',children:"const rc = await gez.render({\n    entryName: 'mobile',  // ระบุให้ใช้ฟังก์ชันเข้าสู่ระบบสำหรับมือถือ\n    params: {\n        url: req.url\n    }\n});\n"})}),"\n",(0,s.jsx)(e.p,{children:"กลไกนี้เหมาะสำหรับสถานการณ์ต่อไปนี้:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"การเรนเดอร์หลายเทมเพลต"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-ts",meta:'title="src/entry.server.ts"',children:"// ฟังก์ชันเข้าสู่ระบบสำหรับมือถือ\nexport const mobile = async (rc: RenderContext) => {\n    // ตรรกะการเรนเดอร์เฉพาะสำหรับมือถือ\n};\n\n// ฟังก์ชันเข้าสู่ระบบสำหรับเดสก์ท็อป\nexport const desktop = async (rc: RenderContext) => {\n    // ตรรกะการเรนเดอร์เฉพาะสำหรับเดสก์ท็อป\n};\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"การทดสอบ A/B"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"รองรับการใช้ตรรกะการเรนเดอร์ที่แตกต่างกันสำหรับหน้าเดียวกัน"}),"\n",(0,s.jsx)(e.li,{children:"ทำให้ง่ายต่อการทดสอบประสบการณ์ผู้ใช้"}),"\n",(0,s.jsx)(e.li,{children:"สลับกลยุทธ์การเรนเดอร์ได้อย่างยืดหยุ่น"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"ความต้องการการเรนเดอร์พิเศษ"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"รองรับการใช้กระบวนการเรนเดอร์ที่กำหนดเองสำหรับบางหน้า"}),"\n",(0,s.jsx)(e.li,{children:"ปรับให้เข้ากับความต้องการการเพิ่มประสิทธิภาพในสถานการณ์ต่างๆ"}),"\n",(0,s.jsx)(e.li,{children:"มีการควบคุมการเรนเดอร์ที่ละเอียดยิ่งขึ้น"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.h2,{id:"แนวทางปฏิบัติที่ดีที่สุด",children:["แนวทางปฏิบัติที่ดีที่สุด",(0,s.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#แนวทางปฏิบัติที่ดีที่สุด",children:"#"})]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"การรับอินสแตนซ์ RenderContext"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["รับอินสแตนซ์ผ่านเมธอด ",(0,s.jsx)(e.code,{children:"gez.render()"})," เสมอ"]}),"\n",(0,s.jsx)(e.li,{children:"ส่งพารามิเตอร์ที่เหมาะสมตามความต้องการ"}),"\n",(0,s.jsx)(e.li,{children:"หลีกเลี่ยงการสร้างอินสแตนซ์ด้วยตนเอง"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"การรวบรวมการอ้างอิง"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["ตรวจสอบให้แน่ใจว่าโมดูลทั้งหมดเรียกใช้ ",(0,s.jsx)(e.code,{children:"importMetaSet.add(import.meta)"})," อย่างถูกต้อง"]}),"\n",(0,s.jsxs)(e.li,{children:["เรียกใช้เมธอด ",(0,s.jsx)(e.code,{children:"commit()"})," ทันทีหลังการเรนเดอร์เสร็จสิ้น"]}),"\n",(0,s.jsx)(e.li,{children:"ใช้คอมโพเนนต์แบบอะซิงโครนัสและการนำเข้าแบบไดนามิกเพื่อเพิ่มประสิทธิภาพการโหลดหน้าจอแรก"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"การฉีดทรัพยากร"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"ปฏิบัติตามลำดับการฉีดทรัพยากรอย่างเคร่งครัด"}),"\n",(0,s.jsx)(e.li,{children:"อย่าฉีด CSS ในส่วน body"}),"\n",(0,s.jsx)(e.li,{children:"ตรวจสอบให้แน่ใจว่า importmap อยู่ก่อน moduleEntry"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"การเพิ่มประสิทธิภาพ"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"ใช้ preload เพื่อโหลดล่วงหน้าทรัพยากรที่สำคัญ"}),"\n",(0,s.jsx)(e.li,{children:"ใช้ modulePreload อย่างเหมาะสมเพื่อเพิ่มประสิทธิภาพการโหลดโมดูล"}),"\n",(0,s.jsx)(e.li,{children:"หลีกเลี่ยงการโหลดทรัพยากรที่ไม่จำเป็น"}),"\n",(0,s.jsx)(e.li,{children:"ใช้ประโยชน์จากกลไกแคชของเบราว์เซอร์เพื่อเพิ่มประสิทธิภาพการโหลด"}),"\n"]}),"\n"]}),"\n"]})]})}function l(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:e}=Object.assign({},(0,i.ah)(),n.components);return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}let c=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["th%2Fguide%2Fessentials%2Frender-context.md"]={toc:[{text:"วิธีการใช้งาน",id:"วิธีการใช้งาน",depth:2},{text:"ฟังก์ชันหลัก",id:"ฟังก์ชันหลัก",depth:2},{text:"การรวบรวมการอ้างอิง",id:"การรวบรวมการอ้างอิง",depth:3},{text:"การรวบรวมตามต้องการ",id:"การรวบรวมตามต้องการ",depth:4},{text:"การจัดการอัตโนมัติ",id:"การจัดการอัตโนมัติ",depth:4},{text:"การเพิ่มประสิทธิภาพ",id:"การเพิ่มประสิทธิภาพ",depth:4},{text:"การฉีดทรัพยากร",id:"การฉีดทรัพยากร",depth:3},{text:"ลำดับการฉีดทรัพยากร",id:"ลำดับการฉีดทรัพยากร",depth:3},{text:"กระบวนการเรนเดอร์ทั้งหมด",id:"กระบวนการเรนเดอร์ทั้งหมด",depth:2},{text:"คุณสมบัติขั้นสูง",id:"คุณสมบัติขั้นสูง",depth:2},{text:"การกำหนดค่าเส้นทางพื้นฐาน",id:"การกำหนดค่าเส้นทางพื้นฐาน",depth:3},{text:"โหมด Import Map",id:"โหมด-import-map",depth:3},{text:"การกำหนดค่าฟังก์ชันเข้าสู่ระบบ",id:"การกำหนดค่าฟังก์ชันเข้าสู่ระบบ",depth:3},{text:"แนวทางปฏิบัติที่ดีที่สุด",id:"แนวทางปฏิบัติที่ดีที่สุด",depth:2}],title:"RenderContext",headingTitle:"RenderContext",frontmatter:{titleSuffix:"Gez เฟรมเวิร์ก กลไกหลักของการเรนเดอร์ฝั่งเซิร์ฟเวอร์",description:"อธิบายรายละเอียดเกี่ยวกับกลไก RenderContext ของ Gez เฟรมเวิร์ก ซึ่งรวมถึงการจัดการทรัพยากร การสร้าง HTML และระบบโมดูล ESM เพื่อช่วยให้นักพัฒนาทำความเข้าใจและใช้ฟีเจอร์การเรนเดอร์ฝั่งเซิร์ฟเวอร์ได้",head:[["meta",{property:"keywords",content:"Gez, RenderContext, SSR, การเรนเดอร์ฝั่งเซิร์ฟเวอร์, ESM, การจัดการทรัพยากร"}]]}}}}]);